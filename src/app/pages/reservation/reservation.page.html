<ion-header>
  <ion-toolbar color="primary">
      <ion-buttons slot="start">
        <ion-back-button [defaultHref]="back_button_string"></ion-back-button>
      </ion-buttons>
      <ion-title>
        {{ page_title }}
      </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>

  @if (data_load){
    <ion-list>
      <ion-item>
        <ion-label>
          <h3>{{ reservation_data?.object_name }}</h3>
          <p>{{ "RESERVATION_PERIOD.SLOT" | translate }}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h3>{{ reservation_data?.interval_name }}</h3>
          <p>{{ "RESERVATION_PERIOD.SERVICE" | translate }}</p>
        </ion-label>
      </ion-item>
      <ion-item>
        <ion-label>
          <h3>{{ reservation_data?.date_display }}</h3>
          <p>{{ "RESERVATION_PERIOD.DATE" | translate }}</p>
        </ion-label>
      </ion-item>

      @if (reservation_data?.inqury != true){
        <ion-item>
          <ion-label>
            <h3>{{ reservation_data?.period }}</h3>
            <p>{{ "RESERVATION_PERIOD.PERIOD" | translate }}</p>
          </ion-label>
        </ion-item>
      }
    </ion-list>
  }

  @if (form){
    <form [formGroup]="form" (ngSubmit)="clickReserve()">
      <h3 class="title">{{ "RESERVATION_PERIOD.PERSONAL_DATA" | translate }}</h3>
      <ion-list>
        <ion-item>
          <ion-input label='{{ "RESERVATION_PERIOD.NAME" | translate}}*' labelPlacement="stacked" type="text" formControlName="name"></ion-input>
        </ion-item>
        <div class="errors"> 
          @if ((form.get('name')?.dirty || form.get('name')?.touched) && form.get('name')?.errors?.['required']){
            <span>{{ "FORMS_ERROR.FIELD_REQUIRED" | translate }}</span>
          }
        </div>
        <ion-item>
          <ion-input label='{{ "RESERVATION_PERIOD.SURNAME" | translate}}*' labelPlacement="stacked" type="text" formControlName="surname"></ion-input>
        </ion-item>
        <div class="errors"> 
          @if ((form.get('surname')?.dirty || form.get('surname')?.touched) && form.get('surname')?.errors?.['required']){
            <span>{{ "FORMS_ERROR.FIELD_REQUIRED" | translate }}</span>
          }
        </div>
      </ion-list>

      <h3 class="title">{{ "RESERVATION_PERIOD.CAR_DATA" | translate }}</h3>
      <ion-list>
        <ion-item>
          <ion-input label='{{ "RESERVATION_PERIOD.CAR_MODEL" | translate}}*' labelPlacement="stacked" type="text" formControlName="car_model"></ion-input>
        </ion-item>
        <div class="errors"> 
          @if ((form.get('car_model')?.dirty || form.get('car_model')?.touched) && form.get('car_model')?.errors?.['required']){
            <span>{{ "FORMS_ERROR.FIELD_REQUIRED" | translate }}</span>
          }
        </div>
        <ion-item>
          <ion-input label='{{ "RESERVATION_PERIOD.CAR_PLATE" | translate}}*' labelPlacement="stacked" type="text" formControlName="car_plate"></ion-input>
        </ion-item>
        <div class="errors"> 
          @if ((form.get('car_plate')?.dirty || form.get('car_plate')?.touched) && form.get('car_plate')?.errors?.['required']){
            <span>{{ "FORMS_ERROR.FIELD_REQUIRED" | translate }}</span>
          }
        </div>
      </ion-list>

      <ion-button type="submit" expand="block" class="button top-space" [disabled]="!form.valid" color="secondary">{{ button_title }}</ion-button>
      <ion-button (click)="cancel()" expand="block" class="button" color="danger">{{ "BUTTON.CANCEL" | translate }}</ion-button>
    </form>
  }

</ion-content>
